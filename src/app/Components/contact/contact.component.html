<div class="contact-container">
  <div class="container">
    <div class="row justify-content-center">
      <!-- Header Section -->
      <div class="row justify-content-center">
        <div class="col-lg-10 col-xl-8 text-center">
          <h1 class="display-5 fw-bold text-teal-green mb-4">
            Contact Our Team
          </h1>
          <p class="lead text-secondary mb-2 mb-lg-5">
            We value every customer and appreciate your interest in our handmade
            crafts. Whether you have questions, need assistance, or want to
            share feedback - we're here to help!
          </p>
        </div>
      </div>

      <!-- Contact Form Section -->
      <div class="row justify-content-center">
        <div class="col-lg-10 col-xl-8">
          <form
            [formGroup]="contactForm"
            (ngSubmit)="onSubmit()"
            class="bg-white p-3 p-md-4 rounded-3 shadow-sm"
          >
            <!-- Contact Info -->
            <div class="col-12 mb-1">
              <div class="row g-1">
                <!-- Email Info -->
                <div class="col-md-6">
                  <div
                    class="d-flex align-items-center bg-light-gray p-1 rounded-2"
                  >
                    <i class="bi bi-envelope-fill fs-4 text-teal-green"></i>
                    <div class="ms-3">
                      <p class="mb-0 small text-secondary">Our Email</p>
                      <p class="mb-0 fw-medium">engmostafabr&#64;gmail.com</p>
                    </div>
                  </div>
                </div>

                <!-- Phone Info -->
                <div class="col-md-6">
                  <div
                    class="d-flex align-items-center bg-light-gray p-1 rounded-2"
                  >
                    <i class="bi bi-telephone-fill fs-4 text-teal-green"></i>
                    <div class="ms-3">
                      <p class="mb-0 small text-secondary">Call Us</p>
                      <p class="mb-0 fw-medium">(010) 1604-7883</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="row g-1">
              <!-- First Name -->
              <div class="col-md-6">
                <div class="form-floating">
                  <input
                    type="text"
                    class="form-control"
                    id="firstName"
                    formControlName="firstName"
                    placeholder="First Name"
                    [ngClass]="{
                      'is-invalid':
                        formControls.firstName.invalid &&
                        (formControls.firstName.touched || submitted)
                    }"
                  />
                  <label for="firstName" class="text-teal-green"
                    >First Name</label
                  >
                  @if (formControls.firstName.invalid &&
                  (formControls.firstName.touched || submitted)) {
                  <div class="invalid-feedback d-block">
                    {{ getErrorMessage("firstName") }}
                  </div>
                  }
                </div>
              </div>

              <!-- Last Name -->
              <div class="col-md-6">
                <div class="form-floating">
                  <input
                    type="text"
                    class="form-control"
                    id="lastName"
                    formControlName="lastName"
                    placeholder="Last Name"
                    [ngClass]="{
                      'is-invalid':
                        formControls.lastName.invalid &&
                        (formControls.lastName.touched || submitted)
                    }"
                  />
                  <label for="lastName" class="text-teal-green"
                    >Last Name</label
                  >
                  @if (formControls.lastName.invalid &&
                  (formControls.lastName.touched || submitted)) {
                  <div class="invalid-feedback d-block">
                    {{ getErrorMessage("lastName") }}
                  </div>
                  }
                </div>
              </div>

              <!-- Email -->
              <div class="col-12">
                <div class="form-floating">
                  <input
                    type="email"
                    class="form-control"
                    id="email"
                    formControlName="email"
                    placeholder="name@example.com"
                    [ngClass]="{
                      'is-invalid':
                        formControls.email.invalid &&
                        (formControls.email.touched || submitted)
                    }"
                  />
                  <label for="email" class="text-teal-green"
                    >Email Address</label
                  >
                  @if (formControls.email.invalid && (formControls.email.touched
                  || submitted)) {
                  <div class="invalid-feedback d-block">
                    {{ getErrorMessage("email") }}
                  </div>
                  }
                </div>
              </div>

              <!-- Subject -->
              <div class="col-12">
                <div class="form-floating">
                  <input
                    type="text"
                    class="form-control"
                    id="subject"
                    formControlName="subject"
                    placeholder="Subject"
                    [ngClass]="{
                      'is-invalid':
                        formControls.subject.invalid &&
                        (formControls.subject.touched || submitted)
                    }"
                  />
                  <label for="subject" class="text-teal-green">Subject</label>
                  @if (formControls.subject.invalid &&
                  (formControls.subject.touched || submitted)) {
                  <div class="invalid-feedback d-block">
                    {{ getErrorMessage("subject") }}
                  </div>
                  }
                </div>
              </div>

              <!-- Message -->
              <div class="col-12">
                <div class="form-floating">
                  <textarea
                    class="form-control"
                    id="message"
                    formControlName="message"
                    placeholder="Message"
                    rows="4"
                    style="height: 150px"
                    [ngClass]="{
                      'is-invalid':
                        formControls.message.invalid &&
                        (formControls.message.touched || submitted)
                    }"
                  ></textarea>
                  <label for="message" class="text-teal-green"
                    >Your Message</label
                  >
                  @if (formControls.message.invalid &&
                  (formControls.message.touched || submitted)) {
                  <div class="invalid-feedback d-block">
                    {{ getErrorMessage("message") }}
                  </div>
                  }
                </div>
              </div>

              <!-- Submit Button -->
              <div class="col-12 text-center pt-1">
                <button
                  type="submit"
                  class="btn btn-teal-green px-5"
                  [disabled]="contactForm.invalid || loading"
                >
                  @if (loading) {
                  <span class="spinner-border spinner-border-sm me-2"></span>
                  Sending... } @else { Send Message
                  <i class="bi bi-send-arrow-up ms-2"></i>
                  }
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- Success Modal -->
  <div class="modal fade" id="successModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content border-0">
        <div class="modal-body text-center p-5">
          <div class="icon-success bg-teal-soft mb-4 mx-auto rounded-circle">
            <i class="bi bi-check2-circle text-teal-green fs-1"></i>
          </div>
          <h3 class="text-teal-green mb-3">Message Sent!</h3>
          <p class="text-secondary mb-4">
            Thank you for contacting us. We'll respond within 24 hours.
          </p>
          <button type="button" class="btn btn-teal-green px-4">
            Continue Browsing
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
