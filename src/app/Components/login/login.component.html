<div class="vh-100 d-flex align-items-center justify-content-center overflow-auto ">
  <div class="row align-items-center w-100 h-100 m-0">
    <div class="col-12 col-lg-6 h-100 d-flex align-items-center justify-content-center">
      <div class="login-form-container p-4 p-md-5  mt-4">
        <div class="m-auto">
          <h1 class="text-center text-teal-green mb-4 fs-2">Welcome Back</h1>
          <p class="text-center text-dark-gray">Please Enter your Details</p>

          <form [formGroup]="loginForm" id="" (ngSubmit)="formCheck()" class="row g-3">
            <div class="col-12">
              <label for="inputEmail4" class="form-label text-teal-green">Email</label>
              <input formControlName="email" 
                     [attr.disabled]="isLoading ? '' : null"
                     type="email" 
                     class="form-control" 
                     id="inputEmail4" />
            </div>
            @if(loginForm.controls['email'].invalid && loginForm.controls['email'].touched) {
            @if(loginForm.controls['email'].errors?.['required']) {
            <p class="error text-danger small mb-2">
              <i class="bi bi-exclamation-circle me-1"></i>Please enter your email address
            </p>
            } @else if(loginForm.controls['email'].errors?.['email']) {
            <div class="error text-danger small mb-2">
              <p class="mb-1"><i class="bi bi-exclamation-circle me-1"></i>Your email must contain:</p>
              <ul class="mb-0 ps-4">
                <li>A username portion (before the &#64; symbol)</li>
                <li>The &#64; symbol</li>
                <li>A domain name (after the &#64; symbol)</li>
                <li>A top-level domain (.com, .org, etc.)</li>
                <li>Example: name&#64;example.com</li>
              </ul>
            </div>
            }
            }
            <div class="col-12">
              <label for="inputPassword4" class="form-label text-teal-green">Password</label>
              <input formControlName="password" 
                     [attr.disabled]="isLoading ? '' : null"
                     type="password" 
                     class="form-control" 
                     id="inputPassword4" />
            </div>
            @if(loginForm.controls['password'].invalid && loginForm.controls['password'].touched) {
            @if(loginForm.controls['password'].errors?.['required']) {
            <p class="error text-danger small mb-2">
              <i class="bi bi-exclamation-circle me-1"></i>Please enter a new password
            </p>
            } @else if(loginForm.controls['password'].errors?.['pattern']) {
            <div class="error text-danger small mb-2">
              <p class="mb-1"><i class="bi bi-exclamation-circle me-1"></i>Your password must contain:</p>
              <ul class="mb-0 ps-4">
                <li>At least 8 characters</li>
                <li>At least one uppercase letter (A-Z)</li>
                <li>At least one lowercase letter (a-z)</li>
                <li>At least one number (0-9)</li>
                <li>At least one special character</li>
              </ul>
            </div>
            }
            }
            <div class="col-12 text-center mt-3">
              <p class="mb-0">
                Need an account?
                <a routerLink="/register" class="text-teal-green text-decoration-none fw-bold">Create one</a>
              </p>
            </div>
            <div class="col-12">
              <div
                class="d-flex flex-column flex-sm-row justify-content-between align-items-start align-items-sm-center">
                <div class="form-check mb-2 mb-sm-0">
                  <input class="form-check-input" formControlName="rememberMe" type="checkbox" id="gridCheck" />
                  <label class="form-check-label text-teal-green" for="gridCheck">
                    Keep me logged in
                  </label>
                </div>
                <a routerLink="/forgot-password" class="text-dark-gray text-decoration-none">Forgot your password?</a>
              </div>
            </div>

            <div class="col-12">
              <button type="submit" 
                      [disabled]="isLoading"
                      class="btn w-100 bg-teal-green text-white">
                @if (!isLoading) {
                  Login
                } @else {
                  <span class="spinner-border spinner-border-sm me-1" role="status" aria-hidden="true"></span>
                  Logging in...
                }
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <div class="col-lg-6 d-none d-lg-block h-100 p-0">
      <img src="https://res.cloudinary.com/dojq1nxqw/image/upload/v1743791003/login-image_sw8rwi.jpg" class="img-cover"
        alt="Login Image" />
    </div>
  </div>
</div>