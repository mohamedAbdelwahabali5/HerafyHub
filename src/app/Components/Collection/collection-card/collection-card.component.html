<div class="col">
  <div class="card border-0 shadow-sm rounded-4 overflow-hidden h-100 transition-hover">
    <div class="position-relative product-image-container">
        <img [src]="product.image" class="card-img-top object-fit-cover rounded-top-4 hover-green"
          [alt]="product.title" loading="lazy" height="240" />
        <div *ngIf="userServ.isLoggedIn()" class="product-overlay d-flex align-items-center justify-content-center">
          <button class="btn btn-sm btn-light rounded-circle me-2" title="Quick view">
          <a routerLink="/product-details/{{product._id}}" class="text-dark">
            <i class="bi bi-eye"></i> </a>
          </button>
          <button (click)="toggleHeart($event)" class="btn btn-sm btn-light rounded-circle" title="Add to favorite">
            @if(isProductInFavorites()){
              <i class="bi bi-heart-fill text-danger"></i>
            }
            @else {
              <i class="bi bi-heart"></i>
            }
          </button>
        </div>
    </div>
    <div class="card-body p-3">
      <h2 class="card-title fw-semibold fs-6 text-dark mb-2 text-truncate">{{ product.title }}</h2>
      <p class="card-text fw-medium small text-muted mb-2">{{ product.category }}</p>
      <div class="d-flex justify-content-between align-items-center mt-2">
        <p class="card-text fw-semibold fs-5 text-dark mb-0">${{ product.currentprice }}</p>
        <button (click)="addToCart()" class="btn btn-sm btn-outline-dark rounded-pill add" [disabled]="!userServ.isLoggedIn()"
          [title]="userServ.isLoggedIn() ? 'Add to cart' : 'Login to add items to cart'">
          <i class="bi bi-cart-plus"></i>
        </button>
      </div>
    </div>
  </div>
</div>
